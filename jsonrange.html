<!DOCTYPE html>
<html>
<head>
    <title>Caltech Library's Digital Library Development Sandbox</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="http://library.caltech.edu"><img src="assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
<li><a href="/">home</a></li>
<li><a href="./">README</a></li>
<li><a href="license.html">LICENSE</a></li>
<li><a href="install.html">INSTALL</a></li>
<li><a href="csvcols.html">csvcols</a></li>
<li><a href="csvjoin.html">csvjoin</a></li>
<li><a href="csv2mdtable.html">csv2mdtable</a></li>
<li><a href="jsoncols.html">jsoncols</a></li>
<li><a href="jsonrange.html">jsonrange</a></li>
<li><a href="xlsx2json.html">xlsx2json</a></li>
<li><a href="xlsx2csv.html">xlsx2csv</a></li>
<li><a href="https://github.com/caltechlibrary/datatools">Github</a></li>
</ul>

</nav>

<section>
<h1>USAGE</h1>

<pre><code>jsonrange [OPTIONS] [DOT_PATH_EXPRESSION] 
</code></pre>

<h2>SYSNOPSIS</h2>

<p>jsonrange returns returns a range of values based on the JSON structure being read and
options applied.  Without options the JSON structure is read from standard input
and writes a list of keys to standard out. Keys are either attribute names or for
arrays the index position (counting form zero).  If a DOT_PATH_EXPRESSION is included
on the command line then that is used to generate the results. Using options to
can choose to read the JSON data structure from a file, write the output to a file
as well as display values instead of keys. a list of &ldquo;keys&rdquo; of an index or map in JSON.</p>

<p>Using options it can also return a list of values.  The JSON object is read from standard in and the
resulting list is normally written to standard out. There are options to read or
write to files.  Additional parameters are assumed to be a dot path notation
select the parts of the JSON data structure you want from the range.</p>

<p>DOT_PATH_EXPRESSION is a dot path stale expression indicating what you want range over.
E.g.</p>

<ul>
<li><em>.</em> would indicate the whole JSON data structure read is used to range over</li>
<li><em>.name</em> would indicate to range over the value pointed at by the &ldquo;name&rdquo; attribute</li>
<li><em>[&ldquo;name&rdquo;]</em> would indicate to range over the value pointed at by the &ldquo;name&rdquo; attribute</li>
<li><em>[0]</em> would indicate to range over the value held in the zero-th element of the array</li>
</ul>

<p>The path can be chained together</p>

<ul>
<li><em>.name.family</em> would point to the value heald by the &ldquo;name&rdquo; attributes&rsquo; &ldquo;family&rdquo; attribute.</li>
</ul>

<h2>OPTIONS</h2>

<pre><code>	-d	set delimiter for range output
	-delimiter	set delimiter for range output
	-h	display help
	-i	read JSON from file
	-input	read JSON from file
	-l	display license
	-last	return the index of the last element in list (e.g. length - 1)
	-length	return the number of keys or values
	-limit	limit the number of items output
	-o	write to output file
	-output	write to output file
	-v	display version
	-values	return the values instead of the keys
</code></pre>

<h2>EXAMPLES</h2>

<p>Working with a map</p>

<pre><code class="language-shell">    echo '{&quot;name&quot;: &quot;Doe, Jane&quot;, &quot;email&quot;:&quot;jane.doe@example.org&quot;, &quot;age&quot;: 42}' \
       | jsonrange
</code></pre>

<p>This would yield</p>

<pre><code>    name
    email
    age
</code></pre>

<p>Using the -values option on a map</p>

<pre><code class="language-shell">    echo '{&quot;name&quot;: &quot;Doe, Jane&quot;, &quot;email&quot;:&quot;jane.doe@example.org&quot;, &quot;age&quot;: 42}' \
      | jsonrange -values
</code></pre>

<p>This would yield</p>

<pre><code>    &quot;Doe, Jane&quot;
    &quot;jane.doe@example.org&quot;
    42
</code></pre>

<p>Working with an array</p>

<pre><code class="language-shell">    echo '[&quot;one&quot;, 2, {&quot;label&quot;:&quot;three&quot;,&quot;value&quot;:3}]' | jsonrange
</code></pre>

<p>would yield</p>

<pre><code>    0
    1
    2
</code></pre>

<p>Using the -values option on the same array</p>

<pre><code class="language-shell">    echo '[&quot;one&quot;, 2, {&quot;label&quot;:&quot;three&quot;,&quot;value&quot;:3}]' | jsonrange -values
</code></pre>

<p>would yield</p>

<pre><code>    one
    2
    {&quot;label&quot;:&quot;three&quot;,&quot;value&quot;:3}
</code></pre>

<p>Checking the length of a map or array or number of keys in map</p>

<pre><code class="language-shell">    echo '[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;]' | jsonrange -length
</code></pre>

<p>would yield</p>

<pre><code>    3
</code></pre>

<p>Check for the index value of last element</p>

<pre><code class="language-shell">    echo '[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;]' | jsonrange -last
</code></pre>

<p>would yield</p>

<pre><code>    2
</code></pre>

<p>Limitting the number of items returned</p>

<pre><code class="language-shell">    echo '[1,2,3,4,5]' | jsonrange -limit 2
</code></pre>

<p>would yield</p>

<pre><code>    1
    2
</code></pre>

</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2017 <a href="http://library.caltech.edu/CLS_Copyright.htm">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
